@import 'common.less';
@import 'mixins/flex-button';

.theme-oo-ui-element() {
}

.theme-oo-ui-buttonElement() {
	.flex-button(~'> .oo-ui-buttonElement-button');

	> .oo-ui-buttonElement-button {
		border-radius: @wds-rounded-corner-radius;
	}

	> input.oo-ui-buttonElement-button {
		-webkit-appearance: none;
		-moz-appearance: none;
		color: currentColor;
		padding: @wds-button-vertical-padding @wds-button-horizontal-padding;
	}

	&.oo-ui-widget-disabled {
		> .oo-ui-buttonElement-button {
			opacity: @opacity--disabled;
		}
	}

	&-frameless {
		.secondary-button(var(--theme-article-text-color), var(--theme-article-text-color--hover));

		&.oo-ui-flaggedElement {
			&-progressive {
				.secondary-button(var(--theme-article-text-color), var(--theme-article-text-color--hover));
			}

			&-destructive {
				.secondary-button(var(--theme-alert-color), var(--theme-alert-color--hover));
			}
		}

		> .oo-ui-buttonElement-button {
			border: 1px solid transparent;
		}

		> button.oo-ui-buttonElement-button {
			color: inherit;
		}
	}

	&-framed {
		&.oo-ui-flaggedElement-primary,
		&.oo-ui-widget-enabled.oo-ui-flaggedElement-primary {
			&.oo-ui-flaggedElement {
				&-progressive {
					.primary-button(var(--theme-accent-color), var(--theme-accent-label-color), var(--theme-accent-color--hover));
				}

				&-destructive {
					.primary-button(@wds-color-alert, @wds-color-white, darken(@wds-color-alert, 20%));
				}
			}
		}

		&.oo-ui-widget-enabled.oo-ui-buttonElement-active {
			.primary-button(var(--theme-accent-color), var(--theme-accent-label-color), var(--theme-accent-color));

			&.oo-ui-flaggedElement {
				&-progressive {
					.primary-button(var(--theme-accent-color), var(--theme-accent-label-color), var(--theme-accent-color));
				}

				&-destructive {
					.primary-button(@wds-color-alert, @wds-color-white, @wds-color-alert);
				}
			}
		}

		&:not(.oo-ui-flaggedElement-primary):not(.oo-ui-buttonElement-active) {
			.secondary-button(var(--theme-article-text-color), var(--theme-article-text-color--hover));

			&.oo-ui-flaggedElement,
			&.oo-ui-widget-enabled.oo-ui-flaggedElement {
				&-progressive {
					.secondary-button(var(--theme-article-text-color), var(--theme-article-text-color--hover));
				}

				&-destructive {
					.secondary-button(var(--theme-alert-color), var(--theme-alert-color--hover));
				}
			}
		}

		> .oo-ui-buttonElement-button {
			border: 1px solid currentColor;
		}
	}
}

.theme-oo-ui-clippableElement() {
}

.theme-oo-ui-draggableElement() {
}

.theme-oo-ui-draggableGroupElement() {
}

.theme-oo-ui-flaggedElement() {
}

.theme-oo-ui-floatableElement() {
}

.theme-oo-ui-groupElement() {
}

.theme-oo-ui-iconElement() {
	&-icon:not(.oo-ui-iconElement-noIcon) {
		background-color: currentColor;
		display: inline-block;
		-webkit-mask-position: center;
		mask-position: center;
		-webkit-mask-repeat: no-repeat;
		mask-repeat: no-repeat;
		-webkit-mask-size: contain;
		mask-size: contain;
		position: static;
	}
}

.theme-oo-ui-indicatorElement() {
	&-indicator:not(.oo-ui-indicatorElement-noIndicator) {
		background-color: currentColor;
		display: inline-block;
		-webkit-mask-position: center;
		mask-position: center;
		-webkit-mask-repeat: no-repeat;
		mask-repeat: no-repeat;
		-webkit-mask-size: contain;
		mask-size: contain;
		position: static;
	}
}

.theme-oo-ui-labelElement() {
	.oo-ui-labelElement-label {
		line-height: @wds-line-height-normal;
	}

	.oo-ui-labelElement-label-highlight {
		font-weight: @wds-font-weight-bold;
	}
}

.theme-oo-ui-lookupElement() {
}

.theme-oo-ui-pendingElement() {
	&-pending {
		background-color: rgba(var(--theme-article-background-color--rgb), 0.2);
		background-image: linear-gradient(
			135deg,
			var(--theme-article-background-color--secondary) 25%,
			transparent 25%,
			transparent 50%,
			var(--theme-article-background-color--secondary) 50%,
			var(--theme-article-background-color--secondary) 75%,
			transparent 75%,
			transparent
		);
		// Support Safari 3.1-3.6, iOS Safari 5.1: Needs to be property of its own.
		// Only Firefox 3.6, Android 2.1-2.3 and Opera 10.1 expect vendor prefixes, which we won't provide anymore.
		background-size: @wds-icon-small-size @wds-icon-small-size;
		.oo-ui-animation(oo-ui-pendingElement-stripes 650ms linear infinite);

		.oo-ui-pendingElement-stripes-frames() {
			0% {
				background-position: -@wds-icon-small-size 0;
			}

			100% {
				background-position: 0 0;
			}
		}

		@-webkit-keyframes oo-ui-pendingElement-stripes {
			.oo-ui-pendingElement-stripes-frames;
		}

		@-moz-keyframes oo-ui-pendingElement-stripes {
			.oo-ui-pendingElement-stripes-frames;
		}

		@keyframes oo-ui-pendingElement-stripes {
			.oo-ui-pendingElement-stripes-frames;
		}
	}
}

.theme-oo-ui-popupElement() {
}

.theme-oo-ui-tabIndexedElement() {
}

.theme-oo-ui-titledElement() {
}

.primary-button(@background-color, @text-color, @background-color--hover) {
	> .oo-ui-buttonElement-button {
		background-color: @background-color;
		border-color: @background-color;
		color: @text-color;
	}

	&.oo-ui-widget-enabled > .oo-ui-buttonElement-button {
		&:focus,
		&:hover,
		&:active {
			background-color: @background-color--hover;
			border-color: @background-color--hover;
		}
	}
}

.secondary-button(@color, @color--hover) {
	> .oo-ui-buttonElement-button {
		color: @color;
	}

	&.oo-ui-widget-enabled > .oo-ui-buttonElement-button {
		&:hover,
		&:active,
		&:focus {
			color: @color--hover;
		}
	}
}
